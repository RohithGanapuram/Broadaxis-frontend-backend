2025-08-22 14:27:43,922 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:27:51,117 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:29:43,261 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2194421049744_1755890803', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,914 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847626256_1755891006', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,918 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847445392_1755890987', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,922 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077846960464_1755890994', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,947 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847477504_1755891015', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,883 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474231120_1755891044', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,895 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474406800_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,909 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560473917616_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,925 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474436464_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,944 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474582192_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:32:57,265 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:04,938 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:43,416 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:48,632 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:36:49,349 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1575978363280_1755891141', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:04,718 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1394940370832_1755891412', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    return {\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:17,039 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2271124922256_1755891427', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2317, in websocket_chat\n    @app.websocket("/ws/chat")\n                           ^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:27,450 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2295187971984_1755891439', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2331, in websocket_chat\n    # WebSocket endpoint for real-time chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:38:11,526 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1803286355856_1755891450', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:38:35,666 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378972995472_1755891495', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:39:43,633 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:39:53,024 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:43:24,993 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378972489296_1755891537', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:44:51,137 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:45:04,330 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:48:42,807 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378973160240_1755891821', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:49:17,333 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:49:22,343 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:49:49,217 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.482803 seconds
2025-08-22 14:49:54,725 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.956566 seconds
2025-08-22 14:51:07,444 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:14,206 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:18,531 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:23,292 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:27,711 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:29,468 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:51:29,468 - anthropic._base_client - INFO - Retrying request to /v1/messages in 35.000000 seconds
2025-08-22 14:52:06,859 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:52:08,502 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:52:08,504 - anthropic._base_client - INFO - Retrying request to /v1/messages in 24.000000 seconds
2025-08-22 14:52:35,582 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:52:37,407 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:52:37,411 - anthropic._base_client - INFO - Retrying request to /v1/messages in 32.000000 seconds
2025-08-22 14:53:12,266 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:53:13,725 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:53:13,726 - anthropic._base_client - INFO - Retrying request to /v1/messages in 32.000000 seconds
2025-08-22 14:53:59,690 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:56:36,636 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:56:42,309 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:57:15,017 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:57:34,108 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:00:05,510 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:00:28,485 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:29,754 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:35,058 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:38,702 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:56,870 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:31,918 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:37,499 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:43,707 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:07:09,547 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2378973024048_1755892123', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 15:12:43,555 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2214115942288_1755893233', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:28:25,041 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(<CloseCode.ABNORMAL_CLOSURE: 1006>, '')", 'context': {'session_id': 'ws_2413305178512_1755894444', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (<CloseCode.ABNORMAL_CLOSURE: 1006>, \'\')\n'}
2025-08-22 15:35:00,175 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(<CloseCode.ABNORMAL_CLOSURE: 1006>, '')", 'context': {'session_id': 'ws_2413304747440_1755894763', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (<CloseCode.ABNORMAL_CLOSURE: 1006>, \'\')\n'}
2025-08-22 15:53:10,974 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2413305426672_1755895418', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:53:40,278 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:55:43,127 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2413305229616_1755895992', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:56:08,506 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:14,521 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:20,546 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:23,138 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:23,139 - anthropic._base_client - INFO - Retrying request to /v1/messages in 8.000000 seconds
2025-08-22 15:56:37,529 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:39,741 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:39,746 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.433393 seconds
2025-08-22 15:56:40,509 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:40,510 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.950666 seconds
2025-08-22 15:56:41,838 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:57:02,140 - BroadAxis - ERROR - Error occurred: {'error_type': 'ExternalAPIError', 'message': 'Invalid response from query processor', 'context': {'session_id': 'ws_2413305437264_1755896144', 'query_length': 165}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 195, in run\n    return runner.run(main)\n           ~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 118, in run\n    return self._loop.run_until_complete(task)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 712, in run_until_complete\n    self.run_forever()\n    ~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 683, in run_forever\n    self._run_once()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\nest_asyncio.py", line 133, in _run_once\n    handle._run()\n    ~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 70, in serve\n    with self.capture_signals():\n         ~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py", line 148, in __exit__\n    next(self.gen)\n    ~~~~^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 331, in capture_signals\n    signal.raise_signal(captured_signal)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 157, in _on_sigint\n    raise KeyboardInterrupt()\nKeyboardInterrupt\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2452, in websocket_chat\n    raise ExternalAPIError("Invalid response from query processor")\nerror_handler.ExternalAPIError: Invalid response from query processor\n', 'error_classification': 'external_api', 'details': {}, 'status_code': 502, 'timestamp': '2025-08-22T15:57:02.133464'}
2025-08-22 15:57:02,334 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-22 15:57:02,338 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'session_id': 'ws_2413305437264_1755896144', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2482, in websocket_chat\n    await manager.send_personal_message(\n    ...<7 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-22 16:00:22,767 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:28,292 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:36,383 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:38,668 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:00:38,669 - anthropic._base_client - INFO - Retrying request to /v1/messages in 43.000000 seconds
2025-08-22 16:01:27,907 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:01:29,968 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:01:29,970 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.387977 seconds
2025-08-22 16:01:30,664 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:01:30,666 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.801171 seconds
2025-08-22 16:01:31,760 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:26,148 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:03:28,088 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:28,089 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.492102 seconds
2025-08-22 16:03:28,998 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:28,998 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.882843 seconds
2025-08-22 16:03:30,362 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:58,561 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:05:58,941 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:58,942 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.461708 seconds
2025-08-22 16:05:59,802 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:59,804 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.774768 seconds
2025-08-22 16:06:01,011 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
