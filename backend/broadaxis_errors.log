2025-08-22 14:27:43,922 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:27:51,117 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:29:43,261 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2194421049744_1755890803', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,914 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847626256_1755891006', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,918 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847445392_1755890987', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,922 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077846960464_1755890994', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:26,947 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2077847477504_1755891015', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,883 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474231120_1755891044', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,895 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474406800_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,909 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560473917616_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,925 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474436464_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:30:55,944 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2560474582192_1755891032', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:32:57,265 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:04,938 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:43,416 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:33:48,632 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:36:49,349 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1575978363280_1755891141', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:04,718 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1394940370832_1755891412', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2293, in websocket_chat\n    return {\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:17,039 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2271124922256_1755891427', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2317, in websocket_chat\n    @app.websocket("/ws/chat")\n                           ^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:37:27,450 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2295187971984_1755891439', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2331, in websocket_chat\n    # WebSocket endpoint for real-time chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:38:11,526 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1803286355856_1755891450', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 14:38:35,666 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378972995472_1755891495', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:39:43,633 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:39:53,024 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:43:24,993 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378972489296_1755891537', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:44:51,137 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:45:04,330 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:48:42,807 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2378973160240_1755891821', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 14:49:17,333 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:49:22,343 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:49:49,217 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.482803 seconds
2025-08-22 14:49:54,725 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.956566 seconds
2025-08-22 14:51:07,444 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:14,206 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:18,531 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:23,292 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:27,711 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:51:29,468 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:51:29,468 - anthropic._base_client - INFO - Retrying request to /v1/messages in 35.000000 seconds
2025-08-22 14:52:06,859 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:52:08,502 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:52:08,504 - anthropic._base_client - INFO - Retrying request to /v1/messages in 24.000000 seconds
2025-08-22 14:52:35,582 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:52:37,407 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:52:37,411 - anthropic._base_client - INFO - Retrying request to /v1/messages in 32.000000 seconds
2025-08-22 14:53:12,266 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:53:13,725 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 14:53:13,726 - anthropic._base_client - INFO - Retrying request to /v1/messages in 32.000000 seconds
2025-08-22 14:53:59,690 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:56:36,636 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:56:42,309 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:57:15,017 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 14:57:34,108 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:00:05,510 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:00:28,485 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:29,754 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:35,058 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:38,702 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:01:56,870 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:31,918 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:37,499 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:03:43,707 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:07:09,547 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2378973024048_1755892123', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-22 15:12:43,555 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2214115942288_1755893233', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:28:25,041 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(<CloseCode.ABNORMAL_CLOSURE: 1006>, '')", 'context': {'session_id': 'ws_2413305178512_1755894444', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (<CloseCode.ABNORMAL_CLOSURE: 1006>, \'\')\n'}
2025-08-22 15:35:00,175 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(<CloseCode.ABNORMAL_CLOSURE: 1006>, '')", 'context': {'session_id': 'ws_2413304747440_1755894763', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (<CloseCode.ABNORMAL_CLOSURE: 1006>, \'\')\n'}
2025-08-22 15:53:10,974 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2413305426672_1755895418', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:53:40,278 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:55:43,127 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2413305229616_1755895992', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2346, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-22 15:56:08,506 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:14,521 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:20,546 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:23,138 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:23,139 - anthropic._base_client - INFO - Retrying request to /v1/messages in 8.000000 seconds
2025-08-22 15:56:37,529 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 15:56:39,741 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:39,746 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.433393 seconds
2025-08-22 15:56:40,509 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:56:40,510 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.950666 seconds
2025-08-22 15:56:41,838 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 15:57:02,140 - BroadAxis - ERROR - Error occurred: {'error_type': 'ExternalAPIError', 'message': 'Invalid response from query processor', 'context': {'session_id': 'ws_2413305437264_1755896144', 'query_length': 165}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 195, in run\n    return runner.run(main)\n           ~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 118, in run\n    return self._loop.run_until_complete(task)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 712, in run_until_complete\n    self.run_forever()\n    ~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 683, in run_forever\n    self._run_once()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\nest_asyncio.py", line 133, in _run_once\n    handle._run()\n    ~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 70, in serve\n    with self.capture_signals():\n         ~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py", line 148, in __exit__\n    next(self.gen)\n    ~~~~^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 331, in capture_signals\n    signal.raise_signal(captured_signal)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 157, in _on_sigint\n    raise KeyboardInterrupt()\nKeyboardInterrupt\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2452, in websocket_chat\n    raise ExternalAPIError("Invalid response from query processor")\nerror_handler.ExternalAPIError: Invalid response from query processor\n', 'error_classification': 'external_api', 'details': {}, 'status_code': 502, 'timestamp': '2025-08-22T15:57:02.133464'}
2025-08-22 15:57:02,334 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-22 15:57:02,338 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'session_id': 'ws_2413305437264_1755896144', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2482, in websocket_chat\n    await manager.send_personal_message(\n    ...<7 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-22 16:00:22,767 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:28,292 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:36,383 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:00:38,668 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:00:38,669 - anthropic._base_client - INFO - Retrying request to /v1/messages in 43.000000 seconds
2025-08-22 16:01:27,907 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:01:29,968 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:01:29,970 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.387977 seconds
2025-08-22 16:01:30,664 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:01:30,666 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.801171 seconds
2025-08-22 16:01:31,760 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:26,148 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:03:28,088 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:28,089 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.492102 seconds
2025-08-22 16:03:28,998 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:03:28,998 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.882843 seconds
2025-08-22 16:03:30,362 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:58,561 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-22 16:05:58,941 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:58,942 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.461708 seconds
2025-08-22 16:05:59,802 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-22 16:05:59,804 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.774768 seconds
2025-08-22 16:06:01,011 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 11:35:46,114 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:35:55,918 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:36:35,859 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:36:52,921 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:44:52,056 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2795902462352_1756053276', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2460, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:45:01,520 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_3113217286032_1756053896', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2464, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:45:10,163 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2306351226768_1756053906', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2468, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:45:23,579 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1859892797328_1756053913', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2467, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:45:33,443 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2171730714512_1756053927', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2465, in websocket_chat\n    while True:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:00,034 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1305745940368_1756053937', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2468, in websocket_chat\n    # Receive message from client with timeout\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:12,483 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2652716720016_1756053963', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2469, in websocket_chat\n    except json.JSONDecodeError as e:\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:22,983 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2785067196304_1756053976', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2465, in websocket_chat\n    except json.JSONDecodeError as e:\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:34,555 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2696037982096_1756053986', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2461, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:44,955 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2010829348752_1756054001', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2463, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:46:55,001 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2931840704400_1756054010', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2463, in websocket_chat\n    message_data = json.loads(data)\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:47:17,247 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2787830128528_1756054020', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2460, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:47:27,696 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2355042443152_1756054041', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2460, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:47:48,599 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2237186367376_1756054054', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2460, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 11:48:14,102 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:48:24,147 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:48:48,518 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:48:58,761 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 11:53:25,480 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2237185861504_1756054069', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2460, in websocket_chat\n    "attachments": attachments_data.get(email_id, [])\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:53:38,059 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2166142459792_1756054409', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2482, in websocket_chat\n    {"filename": "Vendor_Questionnaire.pdf", "date": "2025-01-12", "size": "0.5 MB"}\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:53:46,813 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2194340700368_1756054421', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2513, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:53:55,443 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1937061503184_1756054431', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2513, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:54:10,127 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_3024850968784_1756054440', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2513, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:54:22,164 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2471120920784_1756054454', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2515, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:54:31,992 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2180378779856_1756054466', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2522, in websocket_chat\n    # NEW: per-socket gate to avoid overlapping requests from one client\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:54:43,461 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2198511804624_1756054475', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2532, in websocket_chat\n    print(f"Error getting email attachments: {e}")\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:55:01,849 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1559403552976_1756054486', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2551, in websocket_chat\n    {"filename": "Budget_Guidelines.xlsx", "date": "2025-01-13", "size": "0.8 MB"}\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 11:55:18,865 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2107595744080_1756054505', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2586, in websocket_chat\n    {"filename": "Technical_Requirements.docx", "date": "2025-01-14", "size": "1.5 MB"},\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 12:02:37,936 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2255878939792_1756054522', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 12:09:27,304 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2486660162704_1756054961', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 12:10:03,017 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:10:08,994 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:10:57,678 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2486659688016_1756055368', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-24 12:11:05,157 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1887554561168_1756055461', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 12:26:59,063 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:27:04,223 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:27:11,313 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:27:13,371 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:27:13,372 - anthropic._base_client - INFO - Retrying request to /v1/messages in 17.000000 seconds
2025-08-24 12:27:37,389 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:27:40,695 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:27:40,696 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.463792 seconds
2025-08-24 12:27:41,417 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:27:41,420 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.998835 seconds
2025-08-24 12:27:42,701 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:29:42,818 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 12:29:44,705 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:29:44,706 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.404023 seconds
2025-08-24 12:29:45,404 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:29:45,409 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.924802 seconds
2025-08-24 12:29:46,684 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 12:32:04,373 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:00:01,471 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2195051179664_1756056383', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 13:00:44,462 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:00:53,227 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:00:59,239 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:01:04,273 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:01:05,251 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:01:05,253 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.420917 seconds
2025-08-24 13:01:05,827 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:01:05,828 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.922539 seconds
2025-08-24 13:01:06,918 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:02:30,244 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:02:30,480 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:02:30,481 - anthropic._base_client - INFO - Retrying request to /v1/messages in 43.000000 seconds
2025-08-24 13:03:27,654 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:03:28,074 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:03:28,079 - anthropic._base_client - INFO - Retrying request to /v1/messages in 52.000000 seconds
2025-08-24 13:04:35,076 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:04:37,501 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:04:37,502 - anthropic._base_client - INFO - Retrying request to /v1/messages in 56.000000 seconds
2025-08-24 13:05:59,218 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:06:00,251 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-24 13:06:00,256 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'session_id': 'ws_2195050703936_1756058402', 'query_length': 155}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-24 13:06:00,264 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-24 13:06:00,278 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'session_id': 'ws_2195050703936_1756058402', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2769, in websocket_chat\n    await manager.send_personal_message(\n    ...<6 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-24 13:15:57,646 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:16:03,008 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:16:10,045 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:16:12,386 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:16:12,387 - anthropic._base_client - INFO - Retrying request to /v1/messages in 12.000000 seconds
2025-08-24 13:16:29,506 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:16:32,701 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:16:32,701 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.463577 seconds
2025-08-24 13:16:33,579 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:16:33,582 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.984417 seconds
2025-08-24 13:16:34,842 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:18:03,303 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:18:05,208 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:18:05,210 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.408686 seconds
2025-08-24 13:18:05,972 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:18:05,973 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.827222 seconds
2025-08-24 13:18:07,103 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:21:09,723 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1622640540592_1756059669', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 13:21:13,736 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1622640930768_1756059665', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 13:21:38,696 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:21:44,683 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:21:50,194 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:21:55,395 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:21:57,564 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:21:57,566 - anthropic._base_client - INFO - Retrying request to /v1/messages in 60.000000 seconds
2025-08-24 13:23:01,659 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:23:03,160 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:23:03,162 - anthropic._base_client - INFO - Retrying request to /v1/messages in 59.000000 seconds
2025-08-24 13:24:07,190 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:24:08,618 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:24:08,621 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.426736 seconds
2025-08-24 13:24:09,350 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:24:09,351 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.871715 seconds
2025-08-24 13:24:10,505 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:25:19,007 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:25:20,595 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:25:20,596 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.433006 seconds
2025-08-24 13:25:21,240 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:25:21,241 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.893554 seconds
2025-08-24 13:25:22,539 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-24 13:26:17,505 - BroadAxis - ERROR - Error occurred: {'error_type': 'ExternalAPIError', 'message': 'Invalid response from query processor', 'context': {'session_id': 'ws_1622641175600_1756059674', 'query_length': 136}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 195, in run\n    return runner.run(main)\n           ~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 118, in run\n    return self._loop.run_until_complete(task)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 712, in run_until_complete\n    self.run_forever()\n    ~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\base_events.py", line 683, in run_forever\n    self._run_once()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\nest_asyncio.py", line 133, in _run_once\n    handle._run()\n    ~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\events.py", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 70, in serve\n    with self.capture_signals():\n         ~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py", line 148, in __exit__\n    next(self.gen)\n    ~~~~^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\server.py", line 331, in capture_signals\n    signal.raise_signal(captured_signal)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\runners.py", line 157, in _on_sigint\n    raise KeyboardInterrupt()\nKeyboardInterrupt\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2728, in websocket_chat\n    raise ExternalAPIError("Invalid response from query processor")\nerror_handler.ExternalAPIError: Invalid response from query processor\n', 'error_classification': 'external_api', 'details': {}, 'status_code': 502, 'timestamp': '2025-08-24T13:26:17.503001'}
2025-08-24 13:26:17,515 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-24 13:26:17,520 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'session_id': 'ws_1622641175600_1756059674', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2758, in websocket_chat\n    await manager.send_personal_message(\n    ...<7 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-24 13:26:34,109 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2061336094160_1756059983', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-24 13:28:04,678 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:28:09,168 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-08-24 13:28:44,829 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 13:28:48,550 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-08-24 14:01:00,143 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 14:01:27,461 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 14:01:35,064 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-24 14:02:01,814 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:00,570 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:05,090 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:09,694 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:14,871 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:27,324 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:16:29,035 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:16:29,036 - anthropic._base_client - INFO - Retrying request to /v1/messages in 15.000000 seconds
2025-08-25 09:16:57,617 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:25:23,715 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-08-25 09:25:23,716 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.432751 seconds
2025-08-25 09:25:45,543 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-08-25 09:25:45,545 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.960652 seconds
2025-08-25 09:26:03,125 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-08-25 09:26:15,332 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:26:20,713 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:26:27,891 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:26:29,849 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:26:29,851 - anthropic._base_client - INFO - Retrying request to /v1/messages in 40.000000 seconds
2025-08-25 09:27:15,514 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:27:17,697 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:27:17,699 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.448250 seconds
2025-08-25 09:27:18,394 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:27:18,397 - anthropic._base_client - INFO - Retrying request to /v1/messages in 0.856504 seconds
2025-08-25 09:27:19,500 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:27:19,713 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1279, in close_connection\n    await self.transfer_data_task\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 306, in __step_run_and_handle_result\n    result = coro.throw(exc)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 945, in transfer_data\n    message = await self.read_message()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1015, in read_message\n    frame = await self.read_data_frame(max_size=self.max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1090, in read_data_frame\n    frame = await self.read_frame(max_size)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 1147, in read_frame\n    frame = await Frame.read(\n            ^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\framing.py", line 71, in read\n    data = await reader(2)\n           ^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 769, in readexactly\n    await self._wait_for_data(\'readexactly\')\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\streams.py", line 539, in _wait_for_data\n    await self._waiter\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 286, in __await__\n    yield self  # This tells Task to wait for completion.\n    ^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 375, in __wakeup\n    future.result()\n    ~~~~~~~~~~~~~^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\futures.py", line 194, in result\n    raise self._make_cancelled_error()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 332, in asgi_send\n    await self.send(data)  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 620, in send\n    await self.ensure_open()\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\websockets\\legacy\\protocol.py", line 921, in ensure_open\n    raise self.connection_closed_exc()\nwebsockets.exceptions.ConnectionClosedError: sent 1012 (service restart); no close frame received\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 86, in send\n    await self._send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 39, in sender\n    await send(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\uvicorn\\protocols\\websockets\\websockets_impl.py", line 345, in asgi_send\n    raise ClientDisconnected from exc\nuvicorn.protocols.utils.ClientDisconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 89, in send\n    raise WebSocketDisconnect(code=1006)\nstarlette.websockets.WebSocketDisconnect\n'}
2025-08-25 09:27:20,452 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-25 09:27:20,455 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'session_id': 'ws_1950066341712_1756131328', 'query_length': 165}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-25 09:27:20,462 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'operation': 'websocket_send_message'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-25 09:27:20,466 - BroadAxis - ERROR - Error occurred: {'error_type': 'RuntimeError', 'message': 'Cannot call "send" once a close message has been sent.', 'context': {'session_id': 'ws_1950066341712_1756131328', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2733, in websocket_chat\n    await manager.send_personal_message(\n    ...<9 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2769, in websocket_chat\n    await manager.send_personal_message(\n    ...<6 lines>...\n    )\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 226, in send_personal_message\n    await websocket.send_text(message)\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 166, in send_text\n    await self.send({"type": "websocket.send", "text": data})\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 98, in send\n    raise RuntimeError(\'Cannot call "send" once a close message has been sent.\')\nRuntimeError: Cannot call "send" once a close message has been sent.\n'}
2025-08-25 09:37:23,805 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1756227744016_1756132442', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 09:37:58,617 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:38:04,771 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:38:29,286 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:38:42,443 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:41:00,929 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1756227347136_1756132644', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2622, in websocket_chat\n    websocket.__gate = asyncio.Semaphore(1)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 09:41:22,401 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2626990958032_1756132865', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2630, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 09:42:27,681 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_3076384613840_1756132888', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 09:49:49,388 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1878908462544_1756132952', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 09:49:49,391 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1878908644400_1756133201', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 09:49:49,395 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1878907991184_1756133189', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 09:50:38,118 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:50:44,822 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:51:18,548 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:51:20,935 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 09:51:20,941 - anthropic._base_client - INFO - Retrying request to /v1/messages in 17.000000 seconds
2025-08-25 09:51:49,184 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:56:17,171 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1878908482112_1756133403', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 09:56:58,499 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:57:04,116 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 09:57:23,686 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:13:14,593 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1878908318800_1756133778', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 10:13:41,856 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:13:48,400 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:13:51,686 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-08-25 10:32:28,552 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:32:34,193 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:32:37,176 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-08-25 10:33:20,852 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:33:26,904 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:33:33,511 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:33:38,551 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:33:44,186 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:33:58,510 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:43:49,263 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:43:54,376 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:44:13,425 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:44:37,296 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:44:43,320 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:45:06,646 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:45:27,289 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:45:27,290 - anthropic._base_client - INFO - Retrying request to /v1/messages in 11.000000 seconds
2025-08-25 10:45:40,698 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:45:45,268 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:45:47,876 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:45:47,879 - anthropic._base_client - INFO - Retrying request to /v1/messages in 12.000000 seconds
2025-08-25 10:46:16,929 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:54:37,211 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:55:03,208 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:56:29,875 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2369926363920_1756135898', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    # Receive message from client with timeout\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 10:57:25,535 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1675613890000_1756137394', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2637, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 10:57:34,578 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_2144491988432_1756137449', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2637, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 10:57:57,009 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:02,462 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:06,313 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:11,161 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:17,637 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:18,587 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:58:18,614 - anthropic._base_client - INFO - Retrying request to /v1/messages in 23.000000 seconds
2025-08-25 10:58:44,044 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:58:46,644 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:58:46,648 - anthropic._base_client - INFO - Retrying request to /v1/messages in 20.000000 seconds
2025-08-25 10:59:09,605 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:59:09,810 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:59:09,810 - anthropic._base_client - INFO - Retrying request to /v1/messages in 24.000000 seconds
2025-08-25 10:59:36,050 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 10:59:36,988 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 10:59:36,989 - anthropic._base_client - INFO - Retrying request to /v1/messages in 24.000000 seconds
2025-08-25 11:00:03,855 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:00:06,517 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 11:00:06,523 - anthropic._base_client - INFO - Retrying request to /v1/messages in 22.000000 seconds
2025-08-25 11:00:49,572 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:00:50,013 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 11:00:50,015 - anthropic._base_client - INFO - Retrying request to /v1/messages in 15.000000 seconds
2025-08-25 11:01:22,050 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:01:22,378 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 11:01:22,379 - anthropic._base_client - INFO - Retrying request to /v1/messages in 26.000000 seconds
2025-08-25 11:02:05,018 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:02:07,828 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"
2025-08-25 11:02:07,829 - anthropic._base_client - INFO - Retrying request to /v1/messages in 23.000000 seconds
2025-08-25 11:02:38,297 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:03:54,472 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:03:58,399 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:04:01,165 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:04:03,677 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:04:06,691 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:04:23,676 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:08:42,342 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2144491514032_1756137455', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2637, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:12:31,006 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1861007631824_1756138130', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 11:13:07,730 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:13:12,048 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:13:15,198 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:13:18,984 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:13:34,535 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:24:34,541 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1861007156816_1756138352', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2636, in websocket_chat\n    while True:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:25:00,999 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2973108397520_1756139078', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2639, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:25:11,258 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2473216566736_1756139104', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2645, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:27:55,988 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2634687636944_1756139115', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2645, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:28:23,158 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2602827965904_1756139280', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2645, in websocket_chat\n    @app.get("/api/email-attachments/{email_id}")\n                           ^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:28:32,188 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2042890020304_1756139306', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2739, in websocket_chat\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:28:42,728 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1938936882640_1756139315', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2738, in websocket_chat\n    try:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:29:06,439 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2056150115792_1756139326', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2740, in websocket_chat\n    while True:\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:30:51,781 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1822096221648_1756139350', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2743, in websocket_chat\n    }\n    \n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:31:07,613 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_3130189161936_1756139461', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2764, in websocket_chat\n    async def websocket_chat(websocket: WebSocket):\n                           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:31:35,484 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2483014395344_1756139475', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2777, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:33:59,650 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2197873027472_1756139503', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2777, in websocket_chat\n    # Handle different message types\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:34:18,020 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_1632423897808_1756139644', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2762, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:35:46,980 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2110291831184_1756139662', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2762, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:36:24,630 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': '(1012, None)', 'context': {'session_id': 'ws_2830942464400_1756139750', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2762, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1012, None)\n'}
2025-08-25 11:37:29,649 - BroadAxis - ERROR - Error occurred: {'error_type': 'WebSocketDisconnect', 'message': "(1001, '')", 'context': {'session_id': 'ws_1782026119568_1756139831', 'operation': 'websocket_message_handling'}, 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\backend\\api.py", line 2762, in websocket_chat\n    data = await asyncio.wait_for(websocket.receive_text(), timeout=300.0)  # 5 min timeout\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\rohka\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\asyncio\\tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 120, in receive_text\n    self._raise_on_disconnect(message)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "C:\\Users\\rohka\\OneDrive\\Desktop\\ba-rfpapp\\venv\\Lib\\site-packages\\starlette\\websockets.py", line 114, in _raise_on_disconnect\n    raise WebSocketDisconnect(message["code"], message.get("reason"))\nstarlette.websockets.WebSocketDisconnect: (1001, \'\')\n'}
2025-08-25 11:38:46,449 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:38:52,561 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-08-25 11:38:55,739 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-08-25 11:39:15,744 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
